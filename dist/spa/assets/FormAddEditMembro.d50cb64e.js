import{_ as w,a1 as P,b8 as U,r as V,c as N,o as q,W as b,X as _,Y as s,f as a,a4 as m,q as c,b9 as B,aG as n,Q as t}from"./index.c87a4eda.js";import{u as S,Q as k}from"./userApi.1c9027db.js";import{Q as A}from"./QForm.17d46937.js";import{Q as M}from"./QPage.61743fb3.js";import{Q as C,a as z}from"./QLayout.083a6266.js";import{u as E}from"./use-quasar.412b0d8c.js";import{u as I}from"./useNotify.2dfaf0ec.js";import"./format.f2ce7766.js";import"./rtl.b51694b1.js";const R={name:"formAddEdit",props:{},setup(v,{emit:l}){const r="membros",{notifyError:e,notifySuccess:f}=I(),p=P(),o=U(),d=E(),y=V(["Baptizado","N\xE3o baptizado"]),{getById:x,post:h,update:Q}=S(),i=V({nome:"",nome_pai:"",nome_mae:"",naturalidade:"",num_bilhete:"",data_nascimento:"",status:""}),u=N(()=>o.params.id);return q(async()=>{try{d.loading.show({message:"Carregando informa\xE7\xF5es"}),u.value&&(i.value=await x(r,u.value))}catch{}finally{d.loading.hide()}}),{form:i,options:y,submit:async()=>{try{u.value?(d.loading.show({message:"Alterando informa\xE7\xF5es..."}),await Q(r,i.value),f("Dados do membro actualizado com sucesso..."),p.push({name:"membros"})):(d.loading.show({message:"Cadastrando..."}),await h(r,i.value),f("Membro inserido com sucesso"),p.push({name:"membros"}))}catch(g){e(g.message)}finally{d.loading.hide()}},isUpdate:u}}},j={class:"row justify-center text-body2 text-blue-10"},D={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},F={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},G={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},L={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},W={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},X={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},Y={class:"col-md-8 col-lg-8 col-xs-12 col-sm-12"},H={class:"col-md-8 col-lg-8 col-xs-12 col-sm-12"};function J(v,l,r,e,f,p){return b(),_(C,null,{default:s(()=>[a(z,null,{default:s(()=>[a(M,{padding:""},{default:s(()=>[m("span",j,[e.isUpdate?(b(),_(c,{key:0,flat:"",icon:"mdi-file-edit",label:" Alterar dados do membro"})):(b(),_(c,{key:1,flat:"",icon:"mdi-account-tie",label:" Registrar novos membros"}))]),a(A,{class:"row justify-center q-gutter-x-sm q-gutter-y-sm q-mt-lg",onSubmit:B(e.submit,["prevent"])},{default:s(()=>[m("div",D,[a(n,{dense:"",outlined:"",label:"Nome completo",modelValue:e.form.nome,"onUpdate:modelValue":l[0]||(l[0]=o=>e.form.nome=o),rules:[o=>o!==null&&o!==""||"Porfavor informe o nome do membro"]},{prepend:s(()=>[a(t,{name:"mdi-account-tie"})]),_:1},8,["modelValue","rules"])]),m("div",F,[a(n,{dense:"",outlined:"",label:"Nome do Pai",modelValue:e.form.nome_pai,"onUpdate:modelValue":l[1]||(l[1]=o=>e.form.nome_pai=o),rules:[o=>o!==null&&o!==""||"Porfavor informe o nome do Pai"]},{prepend:s(()=>[a(t,{name:"mdi-face-man"})]),_:1},8,["modelValue","rules"])]),m("div",G,[a(n,{dense:"",outlined:"",label:"Nome da ma\xEA",modelValue:e.form.nome_mae,"onUpdate:modelValue":l[2]||(l[2]=o=>e.form.nome_mae=o),rules:[o=>o!==null&&o!==""||"Porfavor informe o nome da Ma\xEA"]},{prepend:s(()=>[a(t,{name:"mdi-face-woman"})]),_:1},8,["modelValue","rules"])]),m("div",L,[a(n,{dense:"",outlined:"",label:"Naturalidade",modelValue:e.form.naturalidade,"onUpdate:modelValue":l[3]||(l[3]=o=>e.form.naturalidade=o),rules:[o=>o!==null&&o!==""||"Porfavor informe a naturalidade do membro"]},{prepend:s(()=>[a(t,{name:"mdi-map-marker"})]),_:1},8,["modelValue","rules"])]),m("div",W,[a(n,{dense:"",outlined:"",label:"N\xBA do documento",modelValue:e.form.num_bilhete,"onUpdate:modelValue":l[4]||(l[4]=o=>e.form.num_bilhete=o),rules:[o=>o!==null&&o!==""||"Porfavor informe o n\xBA do documento do membro",o=>o.length==14||"Porfavor informe um n\xFAmero real"]},{prepend:s(()=>[a(t,{name:"mdi-counter"})]),_:1},8,["modelValue","rules"])]),m("div",X,[a(n,{type:"date",dense:"",outlined:"",label:"Data de nascimento",modelValue:e.form.data_nascimento,"onUpdate:modelValue":l[5]||(l[5]=o=>e.form.data_nascimento=o),rules:[o=>o!==null&&o!==""||"Porfavor informe a data de nascimento"]},{prepend:s(()=>[a(t,{name:"mdi-calendar-range"})]),_:1},8,["modelValue","rules"])]),m("div",Y,[a(k,{dense:"",outlined:"",modelValue:e.form.status,"onUpdate:modelValue":l[6]||(l[6]=o=>e.form.status=o),options:e.options,label:"Statu do membro","option-value":"id","option-label":"status","map-options":"","emit-value":"",rules:[o=>o!==null&&o!==""||"Porfavor selecione um estado"]},{prepend:s(()=>[a(t,{name:"mdi-state-machine"})]),_:1},8,["modelValue","options","rules"])]),m("div",H,[a(c,{type:"submit",dense:"",class:"full-width",icon:"mdi-content-save-outline",label:"Salvar dados",color:"primary"}),a(c,{flat:"",dense:"",class:"full-width q-mt-lg",icon:"mdi-format-list-bulleted",label:"Ver lista de membros",color:"blue-grey-10",to:{name:"membros"}})])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}var mo=w(R,[["render",J]]);export{mo as default};
