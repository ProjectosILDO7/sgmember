import{a1 as N,a5 as B,bf as A,r as g,c as M,o as S,p as _,a2 as V,a3 as s,f as a,a8 as m,A as c,bg as k,aL as d,Q as n}from"./index.dcbcb52e.js";import{Q as v}from"./QSelect.22c55753.js";import{Q as q}from"./QForm.63a7984c.js";import{Q as C}from"./QPage.1d89285e.js";import{Q as D,a as j}from"./QLayout.f201702f.js";import{u as z}from"./use-quasar.639bb423.js";import{u as E}from"./userApi.50caa57d.js";import{u as F}from"./useNotify.52f1dd01.js";import"./format.0219e714.js";import"./rtl.b51694b1.js";const I={name:"formAddEdit",props:{},setup(y,{emit:l}){const t="membros",{notifyError:o,notifySuccess:f}=F(),p=B(),e=A(),r=z(),x=g(["Baptizado","N\xE3o baptizado"]),w=g(["Masculino","Femenino"]),{getById:P,post:Q,update:h,validateBi:U}=E(),i=g({nome:"",nome_pai:"",nome_mae:"",naturalidade:"",num_bilhete:"",data_nascimento:"",status:"",data_baptismo:"",data_ingresso:"",genero:""}),u=M(()=>e.params.id);return S(async()=>{try{r.loading.show({message:"Carregando informa\xE7\xF5es"}),u.value&&(i.value=await P(t,u.value))}catch{}finally{r.loading.hide()}}),{form:i,options:x,submit:async()=>{try{u.value?(r.loading.show({message:"Alterando informa\xE7\xF5es..."}),await h(t,i.value),f("Dados do membro actualizado com sucesso..."),p.push({name:"membros"})):await U(t,i.value.num_bilhete)?o("J\xE1 existe um dado referente a este membro...!"):(r.loading.show({message:"Cadastrando..."}),await Q(t,i.value),f("Membro inserido com sucesso"),p.push({name:"membros"}))}catch(b){o(b.message)}finally{r.loading.hide()}},isUpdate:u,genero:w}}},R={class:"row justify-center text-body2 text-blue-10"},L={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},G={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},J={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},H={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},K={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},O={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},T={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},W={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},X={class:"col-md-8 col-lg-8 col-xs-12 col-sm-12"},Y={class:"col-md-8 col-lg-8 col-xs-12 col-sm-12"},Z={class:"col-md-8 col-lg-8 col-xs-12 col-sm-12"};function $(y,l,t,o,f,p){return _(),V(D,null,{default:s(()=>[a(j,null,{default:s(()=>[a(C,{padding:""},{default:s(()=>[m("span",R,[o.isUpdate?(_(),V(c,{key:0,flat:"",icon:"mdi-file-edit",label:" Alterar dados do membro"})):(_(),V(c,{key:1,flat:"",icon:"mdi-account-tie",label:" Registrar novos membros"}))]),a(q,{class:"row justify-center q-gutter-x-sm q-gutter-y-sm q-mt-lg",onSubmit:k(o.submit,["prevent"])},{default:s(()=>[m("div",L,[a(d,{dense:"",outlined:"",label:"Nome completo",modelValue:o.form.nome,"onUpdate:modelValue":l[0]||(l[0]=e=>o.form.nome=e),rules:[e=>e!==null&&e!==""||"Porfavor informe o nome do membro"]},{prepend:s(()=>[a(n,{name:"mdi-account-tie"})]),_:1},8,["modelValue","rules"])]),m("div",G,[a(d,{dense:"",outlined:"",label:"Nome do Pai",modelValue:o.form.nome_pai,"onUpdate:modelValue":l[1]||(l[1]=e=>o.form.nome_pai=e),rules:[e=>e!==null&&e!==""||"Porfavor informe o nome do Pai"]},{prepend:s(()=>[a(n,{name:"mdi-face-man"})]),_:1},8,["modelValue","rules"])]),m("div",J,[a(d,{dense:"",outlined:"",label:"Nome da ma\xEA",modelValue:o.form.nome_mae,"onUpdate:modelValue":l[2]||(l[2]=e=>o.form.nome_mae=e),rules:[e=>e!==null&&e!==""||"Porfavor informe o nome da Ma\xEA"]},{prepend:s(()=>[a(n,{name:"mdi-face-woman"})]),_:1},8,["modelValue","rules"])]),m("div",H,[a(d,{dense:"",outlined:"",label:"Naturalidade",modelValue:o.form.naturalidade,"onUpdate:modelValue":l[3]||(l[3]=e=>o.form.naturalidade=e),rules:[e=>e!==null&&e!==""||"Porfavor informe a naturalidade do membro"]},{prepend:s(()=>[a(n,{name:"mdi-map-marker"})]),_:1},8,["modelValue","rules"])]),m("div",K,[a(d,{dense:"",outlined:"",label:"N\xBA do documento",modelValue:o.form.num_bilhete,"onUpdate:modelValue":l[4]||(l[4]=e=>o.form.num_bilhete=e),rules:[e=>e!==null&&e!==""||"Porfavor informe o n\xBA do documento do membro",e=>e.length==14||"Porfavor informe um n\xFAmero real"]},{prepend:s(()=>[a(n,{name:"mdi-counter"})]),_:1},8,["modelValue","rules"])]),m("div",O,[a(d,{type:"date",dense:"",outlined:"",label:"Data de nascimento",modelValue:o.form.data_nascimento,"onUpdate:modelValue":l[5]||(l[5]=e=>o.form.data_nascimento=e),rules:[e=>e!==null&&e!==""||"Porfavor informe a data de nascimento"]},{prepend:s(()=>[a(n,{name:"mdi-calendar-range"})]),_:1},8,["modelValue","rules"])]),m("div",T,[a(d,{type:"date",dense:"",outlined:"",label:"Data de ingresso a igreja",modelValue:o.form.data_ingresso,"onUpdate:modelValue":l[6]||(l[6]=e=>o.form.data_ingresso=e),rules:[e=>e!==null&&e!==""||"Porfavor informe a data de ingresso"]},{prepend:s(()=>[a(n,{name:"mdi-calendar-range"})]),_:1},8,["modelValue","rules"])]),m("div",W,[a(d,{type:"date",dense:"",outlined:"",label:"Data de baptismo",modelValue:o.form.data_baptismo,"onUpdate:modelValue":l[7]||(l[7]=e=>o.form.data_baptismo=e)},{prepend:s(()=>[a(n,{name:"mdi-calendar-range"})]),_:1},8,["modelValue"])]),m("div",X,[a(v,{dense:"",outlined:"",modelValue:o.form.status,"onUpdate:modelValue":l[8]||(l[8]=e=>o.form.status=e),options:o.options,label:"Statu do membro","option-value":"id","option-label":"status","map-options":"","emit-value":"",rules:[e=>e!==null&&e!==""||"Porfavor selecione um estado"]},{prepend:s(()=>[a(n,{name:"mdi-state-machine"})]),_:1},8,["modelValue","options","rules"])]),m("div",Y,[a(v,{dense:"",outlined:"",modelValue:o.form.genero,"onUpdate:modelValue":l[9]||(l[9]=e=>o.form.genero=e),options:o.genero,label:"Genero","option-value":"id","option-label":"status","map-options":"","emit-value":"",rules:[e=>e!==null&&e!==""||"Porfavor selecione o genero"]},{prepend:s(()=>[a(n,{name:"mdi-gender-male-female"})]),_:1},8,["modelValue","options","rules"])]),m("div",Z,[a(c,{type:"submit",dense:"",class:"full-width",icon:"mdi-content-save-outline",label:"Salvar dados",color:"primary"}),a(c,{flat:"",dense:"",class:"full-width q-mt-lg",icon:"mdi-format-list-bulleted",label:"Ver lista de membros",color:"blue-grey-10",to:{name:"membros"}})])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}var ue=N(I,[["render",$]]);export{ue as default};
