import{a1 as w,r as m,w as V,p as v,a2 as y,a3 as l,f as a,aG as _,a8 as g,A as p,_ as x,aJ as f,Q as u,aH as S,aI as C,a7 as M,o as q,a6 as k,a9 as A,l as h}from"./index.bd6f5186.js";import{Q as U,a as B}from"./QTable.2be64ebd.js";import{Q as P}from"./QPage.8229e60c.js";import{Q as F,a as N}from"./QLayout.8993ac73.js";import{Q as T}from"./QSpace.1ce66a81.js";import{Q as D}from"./QSelect.de6009ab.js";import{Q as E}from"./QForm.59a034e6.js";import{C as O}from"./ClosePopup.4974c6b6.js";import{u as I}from"./use-quasar.ddbc5f8e.js";import{u as j}from"./useNotify.9a8e2ba6.js";import{u as z}from"./userApi.b84ab455.js";import"./QList.ac39bbdf.js";import"./format.cabb5701.js";import"./rtl.b51694b1.js";const G={props:{dados:{type:Object,required:!0},show:{type:Boolean}},setup(t,{emit:r}){const s=I(),o=m(t.dados.nome),{notifyError:c,notifySuccess:d}=j(),{registerMemberForAdmin:e}=M(),n=m(["Secret\xE1rio","Tesoureiro"]),i=m({name:"",email:"",phone:"",password:"",funcao:""}),b=()=>{r("modalClose")};return V(()=>{o.value=t.dados.nome,i.value.name=o.value}),{closeModal:b,options:n,form:i,SalvarService:async()=>{try{s.loading.show({message:"Salvando novo usu\xE1rio..."}),await e(i.value),router.push({name:"email-confirmationAdmin",query:{email:i.value.email}}),d("Novo usu\xE1rio adicionado com sucesso, ( O utente precisa verificar o e-mail enviado na sua caixa de entrada)")}catch(Q){c(Q.message)}finally{s.loading.hide()}},valorNome:o}}},H={class:"text-h6"};function J(t,r,s,o,c,d){return v(),y(C,{"model-value":s.show,persistent:""},{default:l(()=>[a(S,null,{default:l(()=>[a(E,null,{default:l(()=>[a(_,{class:"row items-center q-pb-none"},{default:l(()=>[g("div",H,[a(p,{flat:"",label:"Tarefa do membro",icon:"mdi-account-tie",color:"blue-10"})]),a(T),x(a(p,{icon:"close",flat:"",round:"",dense:"",onClick:o.closeModal},null,8,["onClick"]),[[O]])]),_:1}),a(_,{class:"q-gutter-md"},{default:l(()=>[a(f,{dense:"",outlined:"",type:"text",modelValue:o.form.name,"onUpdate:modelValue":r[0]||(r[0]=e=>o.form.name=e),label:"Nome do membro",disable:""},{prepend:l(()=>[a(u,{name:"mdi-account-tie"})]),_:1},8,["modelValue"]),a(f,{dense:"",outlined:"",type:"email",modelValue:o.form.email,"onUpdate:modelValue":r[1]||(r[1]=e=>o.form.email=e),label:"E-mail do membro",rules:[e=>e!==null&&e!==""||"Porfavor informe o e-mail"]},{prepend:l(()=>[a(u,{name:"mdi-at"})]),_:1},8,["modelValue","rules"]),a(f,{dense:"",outlined:"",type:"text",modelValue:o.form.phone,"onUpdate:modelValue":r[2]||(r[2]=e=>o.form.phone=e),label:"Telem\xF3vel",rules:[e=>e!==null&&e!==""||"Porfavor informe o n\xBA de telem\xF3vel",e=>e>0&&e.length==9||"O n\xFAmero de telem\xF3vel deve ter no m\xEDnimo 9 caracteres"]},{prepend:l(()=>[a(u,{name:"mdi-phone-classic"})]),_:1},8,["modelValue","rules"]),a(f,{dense:"",outlined:"",type:"password",modelValue:o.form.password,"onUpdate:modelValue":r[3]||(r[3]=e=>o.form.password=e),label:"Atribuir uma senha",hint:"Apenas n\xFAmeros",rules:[e=>e!==null&&e!==""||"Porfavor digite sua senha",e=>e>0&&e.length>=6||"A sua senha deve ter maior ou igual a 6 caracteres"]},{prepend:l(()=>[a(u,{name:"mdi-lock"})]),_:1},8,["modelValue","rules"]),a(D,{dense:"",outlined:"",modelValue:o.form.funcao,"onUpdate:modelValue":r[4]||(r[4]=e=>o.form.funcao=e),options:o.options,label:"Selecione uma fun\xE7\xE3o",rules:[e=>e!==null&&e!==""||"Porfavor selecione uma fun\xE7\xE3o"]},{prepend:l(()=>[a(u,{name:"mdi-cog"})]),_:1},8,["modelValue","options","rules"])]),_:1}),a(_,null,{default:l(()=>[a(p,{type:"submit",class:"full-width q-mt-md",icon:"mdi-content-save-cog",color:"green-10",label:"Salvar servi\xE7o",onClick:o.SalvarService},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}var L=w(G,[["render",J]]);const K=[{name:"nome",required:!0,label:"Membro",align:"left",field:"nome",sortable:!0},{name:"status",required:!0,label:"Status do membro",align:"left",field:"status",sortable:!0},{name:"data_baptismo",required:!0,label:"Data de baptismo",align:"left",field:"data_baptismo",sortable:!0},{name:"data_ingresso",required:!0,label:"Data de ingresso",align:"left",field:"data_ingresso",sortable:!0},{name:"options",required:!0,label:"Op\xE7\xF5es",align:"center",field:"options",sortable:!0}],R={name:"tarefas-membros",components:{formUserMember:L},setup(){const t=m([]),{list:r}=z(),s=m(!1),o="membros",c=m(""),d=m({});q(()=>{e()});const e=async()=>{try{t.value=await r(o)}catch{}};return{search:c,dados:d,showModalForm:b=>{s.value=!0,d.value=b},columns:K,carregarMembros:e,membros:t,show:s,closeModal:()=>{s.value=!1}}}},W=g("div",{class:"row"},[g("div",{class:"col-12 text-body1"},"Atribui\xE7\xE3o de tarefas")],-1),X={key:0,class:"row justify-center q-mt-md"},Y={key:1,class:"flex flex-center"};function Z(t,r,s,o,c,d){const e=k("form-user-member");return v(),y(F,null,{default:l(()=>[a(N,null,{default:l(()=>[a(P,{padding:""},{default:l(()=>[W,a(A),a(f,{dense:"",outlined:"",type:"text",modelValue:o.search,"onUpdate:modelValue":r[0]||(r[0]=n=>o.search=n),label:"Buscar membro",class:"q-mt-md"},{prepend:l(()=>[a(u,{name:"mdi-magnify"})]),_:1},8,["modelValue"]),o.search?(v(),h("div",X,[a(U,{dense:"",title:"Membro localizado",rows:o.membros,filter:o.search,columns:o.columns,"row-key":"name",color:"green-10"},{"body-cell-options":l(n=>[a(B,{props:n},{default:l(()=>[a(p,{dense:"",icon:"mdi-cog",class:"text-blue-grey-10",onClick:i=>o.showModalForm(n.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","filter","columns"])])):(v(),h("div",Y,[a(p,{dense:"",label:"Escreva o nome do membro na caixa acima para pesquisa e posteriormente atribui\xE7\xE3o de cargo",class:"text-body3 text-green-10 q-mt-lg text-h5"})])),a(e,{show:o.show,onModalClose:o.closeModal,dados:o.dados},null,8,["show","onModalClose","dados"])]),_:1})]),_:1})]),_:1})}var pe=w(R,[["render",Z]]);export{pe as default};
