import{a1 as f,r as c,o as b,p as v,a2 as y,a3 as t,a7 as _,f as o,a8 as m,bg as g,aL as r,Q as n,A as V}from"./index.dcbcb52e.js";import{Q as h}from"./QForm.63a7984c.js";import{Q}from"./QPage.1d89285e.js";import{Q as w,a as x}from"./QLayout.f201702f.js";import{u as q}from"./use-quasar.639bb423.js";import{u as P}from"./useNotify.52f1dd01.js";const U={name:"page-pefil",setup(){const{updateUsuario:i,user:a}=_(),{notifyError:u,notifySuccess:l}=P(),d=q(),s=c({name:"",phone:"",password:""});b(()=>{e()});const e=()=>{try{s.value.email=a.value.email,s.value.name=a.value.user_metadata.name,s.value.phone=a.value.user_metadata.phone}catch{}finally{}};return{form:s,carregarPerfil:e,submit:async()=>{try{d.loading.show({message:"Actualizando informa\xE7\xF5es"}),await i({...s.value.email,...s.value.password},s.value),l("Dados actualizado com sucesso")}catch(p){u(p.message)}finally{d.loading.hide(),e()}}}}},A={class:"row justify-center q-mt-lg"},B=m("div",{class:"col-12 text-center q-mb-lg"},[m("span",{class:"text-body1 text-h4 text-blue-grey-10"},"Meu Perfil")],-1),k={class:"col-6"};function z(i,a,u,l,d,s){return v(),y(w,null,{default:t(()=>[o(x,null,{default:t(()=>[o(Q,{padding:""},{default:t(()=>[m("div",A,[B,m("div",k,[o(h,{onSubmit:g(l.submit,["prevent"])},{default:t(()=>[o(r,{dense:"",outlined:"",type:"text",label:"Nome pr\xF3prio",modelValue:l.form.name,"onUpdate:modelValue":a[0]||(a[0]=e=>l.form.name=e),class:"q-mb-md",rules:[e=>e!==null&&e!==""||"Porfavor informe seu nome"]},{prepend:t(()=>[o(n,{name:"mdi-account-tie"})]),_:1},8,["modelValue","rules"]),o(r,{dense:"",outlined:"",type:"text",label:"E-mail",modelValue:l.form.email,"onUpdate:modelValue":a[1]||(a[1]=e=>l.form.email=e),disable:"",class:"q-mb-md"},{prepend:t(()=>[o(n,{name:"mdi-at"})]),_:1},8,["modelValue"]),o(r,{dense:"",outlined:"",type:"text",label:"Telem\xF3vel",modelValue:l.form.phone,"onUpdate:modelValue":a[2]||(a[2]=e=>l.form.phone=e),class:"q-mb-md",rules:[e=>e!==null&&e!==""||"Porfavor informe seu n\xBA de telem\xF3vel"]},{prepend:t(()=>[o(n,{name:"mdi-phone-classic"})]),_:1},8,["modelValue","rules"]),o(r,{dense:"",outlined:"",type:"password",label:"Opcional - Alterar senha",modelValue:l.form.password,"onUpdate:modelValue":a[3]||(a[3]=e=>l.form.password=e),class:"q-mb-md"},{prepend:t(()=>[o(n,{name:"mdi-lock"})]),_:1},8,["modelValue"]),o(V,{type:"submit",outline:"",icon:"mdi-update",class:"full-width",label:"Actualizar",color:"green-6"})]),_:1},8,["onSubmit"])])])]),_:1})]),_:1})]),_:1})}var L=f(U,[["render",z]]);export{L as default};
