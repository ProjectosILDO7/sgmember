import{a1 as w,bf as Q,a5 as x,r as b,c as A,o as U,p as q,a2 as B,a3 as s,aJ as N,f as o,aI as c,a8 as n,A as _,aL as d,Q as t,a7 as k}from"./index.dcbcb52e.js";import{Q as C}from"./QSpace.8cb73550.js";import{Q as I}from"./QSelect.22c55753.js";import{Q as M}from"./QForm.63a7984c.js";import{u as P}from"./use-quasar.639bb423.js";import{u as T}from"./userApi.50caa57d.js";import{u as E}from"./useNotify.52f1dd01.js";import"./format.0219e714.js";import"./rtl.b51694b1.js";const F={props:{},setup(g,{emit:r}){const u="membros",{getById:a}=T(),l=P(),{notifyError:f,notifySuccess:e}=E(),{registerMemberForAdmin:h}=k(),V=Q(),y=x(),S=b(["Secret\xE1rio","Tesoureiro"]),i=b({name:"",email:"",phone:"",password:"",funcao:""}),p=A(()=>V.params.id);U(()=>{v()});const v=async()=>{try{l.loading.show({message:"Buscando nome"});const m=await a(u,p.value);i.value.name=m.nome}catch{}finally{l.loading.hide()}};return{options:S,form:i,SalvarService:()=>{try{window.confirm("Novo usu\xE1rio ser\xE1 cadastrado para uma \xE1rea restrita. voc\xEA ser\xE1 deslogado do sistema. informar ao membro para verificar na sua caixa para a confirma\xE7\xE3o do seu email")&&(l.loading.show({message:"Salvando novo usu\xE1rio..."}),h(i.value),y.push({name:"email-confirmationAdmin",query:{email:i.value.email}}),e("Novo usu\xE1rio adicionado com sucesso, ( O utente precisa verificar o e-mail enviado na sua caixa de entrada)"))}catch(m){f(m.message)}finally{l.loading.hide()}},getName:p,tabela:u,carregarMembro:v}}},O={class:"text-h6"},R={class:"row justify-center q-gutter-sm"},j={class:"col-4"},J={class:"col-4"},L={class:"col-4"},z={class:"col-4"},D={class:"col-4"};function G(g,r,u,a,l,f){return q(),B(N,null,{default:s(()=>[o(M,null,{default:s(()=>[o(c,{class:"row items-center q-pb-none"},{default:s(()=>[n("div",O,[o(_,{flat:"",label:"Tarefa do membro",icon:"mdi-account-tie",color:"blue-10"})]),o(C)]),_:1}),o(c,{class:"q-gutter-md"},{default:s(()=>[n("div",R,[n("div",j,[o(d,{dense:"",outlined:"",type:"text",modelValue:a.form.name,"onUpdate:modelValue":r[0]||(r[0]=e=>a.form.name=e),label:"Nome do membro",disable:""},{prepend:s(()=>[o(t,{name:"mdi-account-tie"})]),_:1},8,["modelValue"])]),n("div",J,[o(d,{dense:"",outlined:"",type:"email",modelValue:a.form.email,"onUpdate:modelValue":r[1]||(r[1]=e=>a.form.email=e),label:"E-mail do membro",rules:[e=>e!==null&&e!==""||"Porfavor informe o e-mail"]},{prepend:s(()=>[o(t,{name:"mdi-at"})]),_:1},8,["modelValue","rules"])]),n("div",L,[o(d,{dense:"",outlined:"",type:"text",modelValue:a.form.phone,"onUpdate:modelValue":r[2]||(r[2]=e=>a.form.phone=e),label:"Telem\xF3vel",rules:[e=>e!==null&&e!==""||"Porfavor informe o n\xBA de telem\xF3vel",e=>e>0&&e.length==9||"O n\xFAmero de telem\xF3vel deve ter no m\xEDnimo 9 caracteres"]},{prepend:s(()=>[o(t,{name:"mdi-phone-classic"})]),_:1},8,["modelValue","rules"])]),n("div",z,[o(d,{dense:"",outlined:"",type:"password",modelValue:a.form.password,"onUpdate:modelValue":r[3]||(r[3]=e=>a.form.password=e),label:"Atribuir uma senha",hint:"Apenas n\xFAmeros",rules:[e=>e!==null&&e!==""||"Porfavor digite sua senha",e=>e>0&&e.length>=6||"A sua senha deve ter maior ou igual a 6 caracteres"]},{prepend:s(()=>[o(t,{name:"mdi-lock"})]),_:1},8,["modelValue","rules"])]),n("div",D,[o(I,{dense:"",outlined:"",modelValue:a.form.funcao,"onUpdate:modelValue":r[4]||(r[4]=e=>a.form.funcao=e),options:a.options,label:"Selecione uma fun\xE7\xE3o",rules:[e=>e!==null&&e!==""||"Porfavor selecione uma fun\xE7\xE3o"]},{prepend:s(()=>[o(t,{name:"mdi-cog"})]),_:1},8,["modelValue","options","rules"])])])]),_:1}),o(c,null,{default:s(()=>[o(_,{type:"submit",class:"full-width q-mt-md",icon:"mdi-content-save-cog",color:"green-10",label:"Salvar servi\xE7o",onClick:a.SalvarService},null,8,["onClick"])]),_:1})]),_:1})]),_:1})}var re=w(F,[["render",G]]);export{re as default};
