import{_ as h,a1 as N,ba as q,r as b,c as B,o as M,W as g,X as _,Y as s,f as a,a4 as m,q as c,bb as S,aG as d,Q as n}from"./index.6cdbd242.js";import{Q as v}from"./QSelect.e6295f26.js";import{Q as k}from"./QForm.35ebbdc8.js";import{Q as A}from"./QPage.cb19c242.js";import{Q as C,a as D}from"./QLayout.830bb237.js";import{u as j}from"./use-quasar.6af6e18a.js";import{u as z}from"./userApi.c87bf25a.js";import{u as E}from"./useNotify.1f5df6dd.js";import"./format.36c0617c.js";import"./rtl.b51694b1.js";const F={name:"formAddEdit",props:{},setup(y,{emit:l}){const r="membros",{notifyError:e,notifySuccess:f}=E(),p=N(),o=q(),t=j(),x=b(["Baptizado","N\xE3o baptizado"]),P=b(["Masculino","Femenino"]),{getById:Q,post:w,update:U}=z(),i=b({nome:"",nome_pai:"",nome_mae:"",naturalidade:"",num_bilhete:"",data_nascimento:"",status:"",data_baptismo:"",data_ingresso:"",genero:""}),u=B(()=>o.params.id);return M(async()=>{try{t.loading.show({message:"Carregando informa\xE7\xF5es"}),u.value&&(i.value=await Q(r,u.value))}catch{}finally{t.loading.hide()}}),{form:i,options:x,submit:async()=>{try{u.value?(t.loading.show({message:"Alterando informa\xE7\xF5es..."}),await U(r,i.value),f("Dados do membro actualizado com sucesso..."),p.push({name:"membros"})):(t.loading.show({message:"Cadastrando..."}),await w(r,i.value),f("Membro inserido com sucesso"),p.push({name:"membros"}))}catch(V){e(V.message)}finally{t.loading.hide()}},isUpdate:u,genero:P}}},I={class:"row justify-center text-body2 text-blue-10"},R={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},G={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},L={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},W={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},X={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},Y={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},H={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},J={class:"col-md-4 col-lg-4 col-xs-12 col-sm-12"},K={class:"col-md-8 col-lg-8 col-xs-12 col-sm-12"},O={class:"col-md-8 col-lg-8 col-xs-12 col-sm-12"},T={class:"col-md-8 col-lg-8 col-xs-12 col-sm-12"};function Z(y,l,r,e,f,p){return g(),_(C,null,{default:s(()=>[a(D,null,{default:s(()=>[a(A,{padding:""},{default:s(()=>[m("span",I,[e.isUpdate?(g(),_(c,{key:0,flat:"",icon:"mdi-file-edit",label:" Alterar dados do membro"})):(g(),_(c,{key:1,flat:"",icon:"mdi-account-tie",label:" Registrar novos membros"}))]),a(k,{class:"row justify-center q-gutter-x-sm q-gutter-y-sm q-mt-lg",onSubmit:S(e.submit,["prevent"])},{default:s(()=>[m("div",R,[a(d,{dense:"",outlined:"",label:"Nome completo",modelValue:e.form.nome,"onUpdate:modelValue":l[0]||(l[0]=o=>e.form.nome=o),rules:[o=>o!==null&&o!==""||"Porfavor informe o nome do membro"]},{prepend:s(()=>[a(n,{name:"mdi-account-tie"})]),_:1},8,["modelValue","rules"])]),m("div",G,[a(d,{dense:"",outlined:"",label:"Nome do Pai",modelValue:e.form.nome_pai,"onUpdate:modelValue":l[1]||(l[1]=o=>e.form.nome_pai=o),rules:[o=>o!==null&&o!==""||"Porfavor informe o nome do Pai"]},{prepend:s(()=>[a(n,{name:"mdi-face-man"})]),_:1},8,["modelValue","rules"])]),m("div",L,[a(d,{dense:"",outlined:"",label:"Nome da ma\xEA",modelValue:e.form.nome_mae,"onUpdate:modelValue":l[2]||(l[2]=o=>e.form.nome_mae=o),rules:[o=>o!==null&&o!==""||"Porfavor informe o nome da Ma\xEA"]},{prepend:s(()=>[a(n,{name:"mdi-face-woman"})]),_:1},8,["modelValue","rules"])]),m("div",W,[a(d,{dense:"",outlined:"",label:"Naturalidade",modelValue:e.form.naturalidade,"onUpdate:modelValue":l[3]||(l[3]=o=>e.form.naturalidade=o),rules:[o=>o!==null&&o!==""||"Porfavor informe a naturalidade do membro"]},{prepend:s(()=>[a(n,{name:"mdi-map-marker"})]),_:1},8,["modelValue","rules"])]),m("div",X,[a(d,{dense:"",outlined:"",label:"N\xBA do documento",modelValue:e.form.num_bilhete,"onUpdate:modelValue":l[4]||(l[4]=o=>e.form.num_bilhete=o),rules:[o=>o!==null&&o!==""||"Porfavor informe o n\xBA do documento do membro",o=>o.length==14||"Porfavor informe um n\xFAmero real"]},{prepend:s(()=>[a(n,{name:"mdi-counter"})]),_:1},8,["modelValue","rules"])]),m("div",Y,[a(d,{type:"date",dense:"",outlined:"",label:"Data de nascimento",modelValue:e.form.data_nascimento,"onUpdate:modelValue":l[5]||(l[5]=o=>e.form.data_nascimento=o),rules:[o=>o!==null&&o!==""||"Porfavor informe a data de nascimento"]},{prepend:s(()=>[a(n,{name:"mdi-calendar-range"})]),_:1},8,["modelValue","rules"])]),m("div",H,[a(d,{type:"date",dense:"",outlined:"",label:"Data de ingresso a igreja",modelValue:e.form.data_ingresso,"onUpdate:modelValue":l[6]||(l[6]=o=>e.form.data_ingresso=o),rules:[o=>o!==null&&o!==""||"Porfavor informe a data de ingresso"]},{prepend:s(()=>[a(n,{name:"mdi-calendar-range"})]),_:1},8,["modelValue","rules"])]),m("div",J,[a(d,{type:"date",dense:"",outlined:"",label:"Data de baptismo",modelValue:e.form.data_baptismo,"onUpdate:modelValue":l[7]||(l[7]=o=>e.form.data_baptismo=o)},{prepend:s(()=>[a(n,{name:"mdi-calendar-range"})]),_:1},8,["modelValue"])]),m("div",K,[a(v,{dense:"",outlined:"",modelValue:e.form.status,"onUpdate:modelValue":l[8]||(l[8]=o=>e.form.status=o),options:e.options,label:"Statu do membro","option-value":"id","option-label":"status","map-options":"","emit-value":"",rules:[o=>o!==null&&o!==""||"Porfavor selecione um estado"]},{prepend:s(()=>[a(n,{name:"mdi-state-machine"})]),_:1},8,["modelValue","options","rules"])]),m("div",O,[a(v,{dense:"",outlined:"",modelValue:e.form.genero,"onUpdate:modelValue":l[9]||(l[9]=o=>e.form.genero=o),options:e.genero,label:"Genero","option-value":"id","option-label":"status","map-options":"","emit-value":"",rules:[o=>o!==null&&o!==""||"Porfavor selecione o genero"]},{prepend:s(()=>[a(n,{name:"mdi-gender-male-female"})]),_:1},8,["modelValue","options","rules"])]),m("div",T,[a(c,{type:"submit",dense:"",class:"full-width",icon:"mdi-content-save-outline",label:"Salvar dados",color:"primary"}),a(c,{flat:"",dense:"",class:"full-width q-mt-lg",icon:"mdi-format-list-bulleted",label:"Ver lista de membros",color:"blue-grey-10",to:{name:"membros"}})])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})}var uo=h(F,[["render",Z]]);export{uo as default};
